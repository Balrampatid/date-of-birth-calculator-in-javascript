<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Age Calcluate</title>
    <style>
        body{
                border: 4px groove black;
                border-radius: 15px;
                width: 460px;
                height: 310px;
                margin-left: 550px;
                margin-top: 200px;
                
        }
        .container{
            padding-left: 40px;
            font-size: 30px;
            
        }
        #calculateBtn{
            font-size: 20px;
            width: 200px;

        }
        .ate{
            width: 150px;
            height: 30px;
            margin-left: 10px;
            font-size: 20PX;
        }
        .btn{
            margin-left: 90px;
            margin-top: 20px;
            height: 45px;

        }
        #p{
            margin-left: 90px;
            
        }
    </style>
</head>
<body>
    <div class="container">
        <p id="p">Age Calculator</p>
        <div class="date-container">
            <label for="birthDate">Date of Birth</label>
            <input class="ate"  type="date" name="birthDate" id="birthDate" required>
        </div>
        <div class="date-container">
            <label for="currentDate">Age at the Date of</label>
            <input class="ate" type="date" name="currentDate" id="currentDate" required>
        </div>
        <input class="btn" type="button" value="currentDate" id="calculateBtn">
        <p id="output"></p>
    </div>
    <script>
        let dob = document.getElementById("birthDate");
let currentDate = document.getElementById("currentDate");
let output = document.getElementById("output");

document.getElementById("calculateBtn").addEventListener("click",()=>{
    if(dob.value=="" || currentDate.value==""){
        output.innerHTML = "Please select Date";
    }else{
        calculateAgeDifference(dob.value,currentDate.value);
    }
    
});

function calculateAgeDifference(start,end){
    console.log(start);
    let dobYear = parseInt(start.substring(0,4), 10); //Base 10  
    let dobMonth = parseInt(start.substring(5,7), 10);  
    let dobDate = parseInt(start.substring(8,10), 10); 
    let currYear = parseInt(end.substring(0,4), 10); //Base 10  
    let currMonth = parseInt(end.substring(5,7), 10);  
    let currDate = parseInt(end.substring(8,10), 10); 
    
    //year difference
    let yearAgeDiff = currYear - dobYear;

    //month difference
    let monthAgeDiff;
    if(currMonth >= dobMonth){
        monthAgeDiff = currMonth - dobMonth;
    }
    else{
        yearAgeDiff--;
        monthAgeDiff = 12 + currMonth - dobMonth;
    }

    //days difference
    let dateAgeDiff;
    if(currDate>=dobDate){
        dateAgeDiff = currDate - dobDate;
    }
    else{
        monthAgeDiff--;
        noOfDaysInDOB = daysInMonth(dobMonth,dobYear);
        dateAgeDiff = noOfDaysInDOB + currDate - dobDate;

        //case when monthAgeDiff goes negative
        if(monthAgeDiff<0){
            monthAgeDiff=11;
            yearAgeDiff--;
        }
    }

    output.innerHTML = yearAgeDiff  + " Years, " + monthAgeDiff + " Months, " + dateAgeDiff + " Days.";
}

function daysInMonth (month, year) {
    return new Date(year, month,Â 0).getDate();
}

    </script>
</body>
</html>